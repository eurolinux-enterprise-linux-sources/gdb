From 10032a04d37de3a38544ca3efc85fd02de4cb228 Mon Sep 17 00:00:00 2001
From: siddhesh <siddhesh>
Date: Fri, 14 Sep 2012 07:00:37 +0000
Subject: [PATCH] 	* printcmd.c (ui_printf): Eliminate single-use variable
 	PARAM_LEN.

---
 gdb/ChangeLog  |    5 +++++
 gdb/printcmd.c |    5 ++---
 2 files changed, 7 insertions(+), 3 deletions(-)

Index: gdb-7.2/gdb/printcmd.c
===================================================================
--- gdb-7.2.orig/gdb/printcmd.c
+++ gdb-7.2/gdb/printcmd.c
@@ -2545,7 +2545,6 @@ ui_printf (char *arg, struct ui_file *st
 
 	      /* Parameter data.  */
 	      struct type *param_type = value_type (val_args[i]);
-	      unsigned int param_len = TYPE_LENGTH (param_type);
 	      struct gdbarch *gdbarch = get_type_arch (param_type);
 	      enum bfd_endian byte_order = gdbarch_byte_order (gdbarch);
 
@@ -2607,8 +2606,8 @@ ui_printf (char *arg, struct ui_file *st
 
 	      /* Conversion between different DFP types.  */
 	      if (TYPE_CODE (param_type) == TYPE_CODE_DECFLOAT)
-		decimal_convert (param_ptr, param_len, byte_order,
-				 dec, dfp_len, byte_order);
+		decimal_convert (param_ptr, TYPE_LENGTH (param_type),
+				 byte_order, dec, dfp_len, byte_order);
 	      else
 		/* If this is a non-trivial conversion, just output 0.
 		   A correct converted value can be displayed by explicitly
